{"page":[{"prefix":"profile","title":"Profile","menu":"","css":null,"for":"-","lock":true,"header-shrink":false,"button_up":"none","remove-has-header":false,"title-tranparant":false,"last_edit_by":"page_builder","parent":"","menutype":"side_menus-custom","priority":"warning","class":"has-header","bg_image":false,"img_bg":"data\/images\/background\/bg14.jpg","js":"\r\n    \r\n$scope.current_user = {} ;\r\n$scope.$on(\"$ionicView.afterEnter\", function (){  \r\n    \r\n    $ionicLoading.show({\r\n\t\ttemplate: '<div class=\"loader\"><svg class=\"circular\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"\/><\/svg><\/div>'\r\n\t});\r\n    \r\n    $http.get(\"http:\/\/demo.ihsana.net\/laundry_service\/rest-api.php?json=me\").then(function(resp){\r\n        if(resp.data.data.status == 401){\r\n       \t    $ionicHistory.nextViewOptions({\r\n        \t\tdisableAnimate: true,\r\n        \t\tdisableBack: true\r\n        \t});\r\n\t\t\t$state.go(\"laundry_service.form_login\");\r\n        }else{\r\n            $scope.current_user = resp.data.me ;\r\n        }\r\n        \r\n        \r\n        \r\n    },function(resp){   \r\n        \r\n\t\t$timeout(function() {\r\n\t\t\t$ionicLoading.hide();\r\n\t\t}, 500); \r\n        \r\n\t\tvar alertPopup = $ionicPopup.alert({\r\n\t\t\ttitle: \"Ops, error!\",\r\n\t\t\ttemplate: \"Problem with crossdomain or Invalid URL.\",\r\n\t\t});\r\n        \r\n        alertPopup.then(function(res){\r\n              $state.go(\"laundry_service.form_login\");\r\n        });\r\n        \r\n    }).finally(function(){   \r\n\t\t$timeout(function() {\r\n\t\t\t$ionicLoading.hide();\r\n\t\t}, 500);            \r\n    });      \r\n    \r\n});   \r\n\r\n$scope.updateUser = function(){\r\n  \t\t\r\n    \/\/ animation loading \r\n    $ionicLoading.show({\r\n    \ttemplate: '<div class=\"loader\"><svg class=\"circular\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"\/><\/svg><\/div>'\r\n    });\r\n\t\r\n\t\tvar $messages, $title = null;\r\n\t\t$http({\r\n\t\t\t\tmethod:\"POST\",\r\n\t\t\t\turl: \"http:\/\/demo.ihsana.net\/laundry_service\/rest-api.php?json=submit&form=me\",\r\n\t\t\t\tdata: $httpParamSerializer($scope.current_user),   \r\n\t\t\t\theaders: {\"Content-Type\":\"application\/x-www-form-urlencoded\"}  \r\n\t\t\t})\r\n\t\t\t.then(function(response) {\r\n\t\t\t\t$messages = response.data.message;\r\n\t\t\t\t$title = response.data.title;\r\n\t\t\t},function(response){\r\n\t\t\t\t$messages = response.statusText;\r\n\t\t\t\t$title = response.status;\r\n\t\t\t}).finally(function(){\r\n\t\t\t\t\/\/ event done, hidden animation loading\r\n\t\t\t\t$timeout(function() {\r\n\t\t\t\t\t$ionicLoading.hide();\r\n\t\t\t\t\tif($messages !== null){\r\n\t\t\t\t\t\t\/\/ message\r\n    \t\t\t\t\tvar alertPopup = $ionicPopup.alert({\r\n    \t\t\t\t\t\ttitle: $title,\r\n    \t\t\t\t\t\ttemplate: $messages,\r\n    \t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t     }, 500);\r\n\t\t  });\r\n}\r\n \r\n    ","content":"\r\n    \r\n<div class=\"card list\">\r\n \r\n  <label class=\"item item-input item-stacked-label\">\r\n    <span class=\"input-label\">Full Name<\/span>\r\n    <input type=\"text\" ng-model=\"current_user.fullname\" ng-value=\"current_user.fullname\">\r\n  <\/label>\r\n  \r\n  <label class=\"item item-input item-stacked-label\">\r\n    <span class=\"input-label\">Address<\/span>\r\n    <input type=\"text\" ng-model=\"current_user.address\" ng-value=\"current_user.address\">\r\n  <\/label>\r\n\r\n  <label class=\"item item-input item-stacked-label\">\r\n    <span class=\"input-label\">Email<\/span>\r\n    <input type=\"email\" ng-model=\"current_user.email\" ng-value=\"current_user.email\">\r\n  <\/label>\r\n  \r\n  <label class=\"item item-input item-stacked-label\">\r\n    <span class=\"input-label\">Phone<\/span>\r\n    <input type=\"text\" ng-model=\"current_user.phone\" ng-value=\"current_user.phone\">\r\n  <\/label>\r\n  \r\n  <label class=\"item item-input item-stacked-label\">\r\n    <span class=\"input-label\">Type Identity Card<\/span>\r\n    <input type=\"text\" ng-model=\"current_user.type_ic\" ng-value=\"current_user.type_ic\">\r\n  <\/label>\r\n    \r\n  <label class=\"item item-input item-stacked-label\">\r\n    <span class=\"input-label\">No. Identity Card<\/span>\r\n    <input type=\"text\" ng-model=\"current_user.no_ic\" ng-value=\"current_user.no_ic\">\r\n  <\/label>\r\n\r\n    <div class=\"padding\">\r\n        <button ng-click=\"updateUser()\" class=\"button button-assertive ink\">Update<\/button>\r\n    <\/div>\r\n        \r\n<\/div>\r\n\r\n    "}]}