{"page":[{"title":"IPA","prefix":"smp_ipa","for":"table-list","last_edit_by":"page_builder","parent":"side_menus","menutype":"side_menus","builder_link":"http:\/\/ima-builder.com\/rev17.11.06\/?page=x-page-builder&prefix=page_quiz&source=db_smp_ipa&target=smp_ipa","menu":"-","lock":true,"class":"smp_ipa","button_up":"none","scroll":false,"css":"","js":"\r\n\r\nvar title_of_confirm = \"Confirm!\";\r\nvar content_of_confirm = \"Are you sure of the answer?\";  \r\nvar text_true = \"Correct\";\r\nvar text_false = \"Wrong\";  \r\n\r\nvar icon_for_true = \"ion-happy-outline balanced\";\r\nvar icon_for_false = \"ion-sad-outline assertive\";  \r\n\r\n$scope.current_index = 0;\r\n$scope.correct_answers = $scope.wrong_answers = 0;\r\n\r\n$scope.update_score = function(){\r\n    if(!data_db_smp_ipas){\r\n        return false;\r\n    }\r\n    $scope.current.wrong = $scope.wrong_answers;\r\n    $scope.current.correct = $scope.correct_answers; \r\n    $scope.current.remaining = ($scope.current_index + 1) + \"\/\" + data_db_smp_ipas.length ;       \r\n}\r\n\r\n$scope.update_question = function(){ \r\n    $scope.choose = null;\r\n    if(!data_db_smp_ipas){\r\n       return false;\r\n    }    \r\n    $scope.current = data_db_smp_ipas[$scope.current_index];\r\n    $ionicScrollDelegate.$getByHandle(\"top\").scrollTop();\r\n}\r\n\r\n$scope.update_question();\r\n$scope.update_score();\r\n\r\n$scope.check_choose = function($choice){\r\n    $ionicPopup.confirm({\r\n        title: title_of_confirm,\r\n        content: content_of_confirm\r\n    }).then(function(respon){\r\n        if(respon){\r\n            if($choice === $scope.current.answer){\r\n                $scope.current.congrats_icon = icon_for_true;\r\n                $scope.current.congrats_text = text_true;\r\n                $scope.correct_answers++;\r\n            }else{\r\n                $scope.current.congrats_icon = icon_for_false;\r\n                $scope.current.congrats_text = text_false;\r\n                $scope.wrong_answers++;\r\n            }        \r\n            $scope.modal_congrats.show();\r\n            $timeout(function(){\r\n                if($scope.current_index == ( data_db_smp_ipas.length -1) ){\r\n                    $scope.update_score();  \r\n                    $scope.modal_score_open();\r\n                }else{\r\n                    $scope.current_index++;  \r\n                    $scope.update_question(); \r\n                    $scope.update_score();                 \r\n                }\r\n                $scope.modal_congrats.hide();\r\n\t\t\t}, 1000);\r\n        } \r\n  });    \r\n};\r\n\r\n\/** dialog congrats **\/\r\n$ionicModal.fromTemplateUrl(\"congrats.html\",{scope:$scope,animation:\"slide-in-up\"}).then(function(modal){\r\n    $scope.modal_congrats = modal;\r\n});\r\n\r\n\/** dialog score **\/\r\n$ionicModal.fromTemplateUrl(\"score.html\",{scope:$scope,animation:\"slide-in-up\"}).then(function(modal){\r\n    $scope.modal_score = modal;\r\n});\r\n\r\n$scope.modal_score_open = function(){\r\n    $scope.modal_score.show();\r\n}\r\n\r\n$scope.modal_score_close = function(){\r\n    $scope.modal_score.hide();\r\n};\r\n\r\n$scope.modal_score_repeat = function(){\r\n    $scope.current_index = 0;\r\n    $scope.correct_answers = $scope.wrong_answers = 0;\r\n    $scope.update_question();\r\n    $scope.update_score();\r\n    $scope.modal_score.hide();\r\n};\r\n\r\n$scope.$on(\"$destroy\", function(){\r\n    $scope.modal_score.remove();\r\n    $scope.modal_congrats.remove();\r\n});\r\n\r\n","content":"\r\n\t\t\t<ion-refresher pulling-text=\"Pull to refresh...\"  on-refresh=\"doRefresh()\"><\/ion-refresher>\r\n\t\t\t<div class=\"list card\">\r\n\t\t\t\t<div class=\"item item-header item-stable item-button-right\">\r\n\t\t\t\t\tQuestion\r\n\t\t\t\t\t<span class=\"badge badge-assertive\">{{ current.remaining }}<\/span>\r\n\t\t\t\t\t<button class=\"button button-balanced ink\"  ng-click=\"modal_score_open($event)\"><i class=\"icon ion-ribbon-a\"><\/i><\/button>\r\n\t\t\t\t<\/div>\r\n\t\t\t\t<div class=\"item item-text-wrap\">\r\n\t\t\t\t\t<div ng-bind-html=\"current.question | strHTML\" ><\/div>\r\n\t\t\t\t<\/div>\r\n\t\t\t<\/div>\r\n\t\t\t<div class=\"card\">\r\n\t\t\t\t<div class=\"item item-header item-positive\">\r\n\t\t\t\t\tYour choice\r\n\t\t\t\t<\/div>\r\n\t\t\t\t<ion-list>\r\n\t\t\t\t\t<ion-radio ng-model=\"choice\" ng-value=\"'a'\"><span class=\"item-text-wrap\" ng-if=\"current.option_a\" ng-bind-html=\"current.option_a | strHTML\"><\/span><\/ion-radio>\r\n\t\t\t\t\t<ion-radio ng-model=\"choice\" ng-value=\"'b'\"><span class=\"item-text-wrap\" ng-if=\"current.option_b\" ng-bind-html=\"current.option_b | strHTML\"><\/span><\/ion-radio>\r\n\t\t\t\t\t<ion-radio ng-model=\"choice\" ng-value=\"'c'\"><span class=\"item-text-wrap\" ng-if=\"current.option_c\" ng-bind-html=\"current.option_c | strHTML\"><\/span><\/ion-radio>\r\n\t\t\t\t\t<ion-radio ng-model=\"choice\" ng-value=\"'d'\"><span class=\"item-text-wrap\" ng-if=\"current.option_d\" ng-bind-html=\"current.option_d | strHTML\"><\/span><\/ion-radio>\r\n\t\t\t<div class=\"item noborder\">\r\n\t\t\t\t<button ng-if=\"choice\" class=\"button button-assertive\" ng-click=\"check_choose(choice)\">Next<\/button>\r\n\t\t\t<\/div>\r\n\t\t\t\t<\/ion-list>\r\n\t\t\t<\/div>\r\n\t\t\t<br\/><br\/>\r\n\t\t\t<script id=\"score.html\" type=\"text\/ng-template\">\r\n\t\t\t\t<ion-modal-view>\r\n\t\t\t\t\t<ion-header-bar class=\"bar bar-header light bar-balanced\">\r\n\t\t\t\t\t<div class=\"header-item title\">Your score<\/div>\r\n\t\t\t\t\t<div class=\"buttons buttons-right header-item\"><span class=\"right-buttons\"><button class=\"button button-icon button-clear ion-close ink-black\" ng-click=\"modal_score_close()\"><\/button><\/span><\/div>\r\n\t\t\t\t<\/ion-header-bar>\r\n\t\t\t\t\t<ion-content>\r\n\t\t\t\t\t\t<div class=\"card\">\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col\">Correct<\/div>\r\n\t\t\t\t\t\t\t\t<div class=\"col text-right\">{{ current.correct }}<\/div>\r\n\t\t\t\t\t\t\t<\/div>\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col\">Wrong<\/div>\r\n\t\t\t\t\t\t\t\t<div class=\"col text-right\">{{ current.wrong }}<\/div>\r\n\t\t\t\t\t\t\t<\/div>\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col\">Total<\/div>\r\n\t\t\t\t\t\t\t\t<div class=\"col text-right\">{{ current.remaining }}<\/div>\r\n\t\t\t\t\t\t\t<\/div>\r\n\t\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t\t<div class=\"col\"><button class=\"button button-calm ion-ios-refresh-outline icon  icon-right\" ng-click=\"modal_score_repeat()\">Repeat<\/button><\/div>\r\n\t\t\t\t\t\t\t<\/div>\r\n\t\t\t\t\t\t<\/div>\r\n\t\t\t\t\t<\/ion-content>\r\n\t\t\t\t<\/ion-modal-view>\r\n\t\t\t<\/script>\r\n\t\t\t<script id=\"congrats.html\" type=\"text\/ng-template\">\r\n\t\t\t\t<ion-modal-view>\r\n\t\t\t\t\t<ion-content>\r\n\t\t\t\t\t\t<div class=\"padding text-center\">\r\n\t\t\t\t\t\t\t<div class=\"padding text-center\">\r\n\t\t\t\t\t\t\t\t<span style=\"font-size:64px;\" class=\"icon {{ current.congrats_icon }}\"><\/span>\r\n\t\t\t\t\t\t\t\t<h3>{{ current.congrats_text }}<\/h3>\r\n\t\t\t\t\t\t\t<\/div>\r\n\t\t\t\t\t\t<\/div>\r\n\t\t\t\t\t<\/ion-content>\r\n\t\t\t\t<\/ion-modal-view>\r\n\t\t\t<\/script>\r\n\r\n","img_bg":"data\/images\/background\/bg9.jpg","version":"Upd.1710180211","overflow-scroll":false,"db_url_dinamic":false}]}